{"ast":null,"code":"import React,{useState,useEffect}from'react';import Icon from'../Icon';import LocationMultiselect from'../LocationMultiselect';import bodyScrollManager from'../../utils/bodyScrollManager';import'./AddToNetworkModal.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const AddToNetworkModal=_ref=>{let{isOpen,onClose,attorney,onAdd,isEditMode=false,initialData=null}=_ref;const[feePercentage,setFeePercentage]=useState(25);const[caseTypes,setCaseTypes]=useState(['']);const[selectedLocations,setSelectedLocations]=useState([]);const modalRef=React.useRef(null);const firstInputRef=React.useRef(null);const lastFocusableRef=React.useRef(null);// Initialize form when modal opens\nuseEffect(()=>{if(isOpen&&attorney){if(isEditMode&&initialData){// Edit mode: prefill with existing data\nsetFeePercentage(initialData.feePercentage||25);setCaseTypes(initialData.caseTypes&&initialData.caseTypes.length>0?initialData.caseTypes:['']);setSelectedLocations(initialData.locations||[]);}else{// Add mode: reset to defaults\nsetFeePercentage(25);setCaseTypes(['']);setSelectedLocations([]);}}},[isOpen,attorney,isEditMode,initialData]);// Focus management\nuseEffect(()=>{if(isOpen){// Store previously focused element\nconst previouslyFocused=document.activeElement;// Focus first input when modal opens\nsetTimeout(()=>{if(firstInputRef.current){firstInputRef.current.focus();}},100);// Prevent body scroll\nbodyScrollManager.lock();return()=>{// Restore body scroll and focus\nbodyScrollManager.unlock();if(previouslyFocused&&previouslyFocused.focus){previouslyFocused.focus();}};}},[isOpen]);// Keyboard handling\nuseEffect(()=>{if(!isOpen)return;const handleKeyDown=e=>{if(e.key==='Escape'){onClose();return;}if(e.key==='Tab'){var _modalRef$current;const focusableElements=(_modalRef$current=modalRef.current)===null||_modalRef$current===void 0?void 0:_modalRef$current.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex=\"-1\"])');if(focusableElements!==null&&focusableElements!==void 0&&focusableElements.length){const firstElement=focusableElements[0];const lastElement=focusableElements[focusableElements.length-1];if(e.shiftKey&&document.activeElement===firstElement){e.preventDefault();lastElement.focus();}else if(!e.shiftKey&&document.activeElement===lastElement){e.preventDefault();firstElement.focus();}}}};document.addEventListener('keydown',handleKeyDown);return()=>document.removeEventListener('keydown',handleKeyDown);},[isOpen,onClose]);const handleOverlayClick=e=>{if(e.target===e.currentTarget){onClose();}};const handleAdd=()=>{const networkSettings={attorney:attorney,feePercentage,caseTypes:caseTypes.filter(ct=>ct.trim()!==''),locations:selectedLocations,addedDate:new Date().toISOString()};onAdd(networkSettings);onClose();};const updateCaseType=(index,value)=>{const newCaseTypes=[...caseTypes];newCaseTypes[index]=value;setCaseTypes(newCaseTypes);};const addNewCaseType=()=>{setCaseTypes([...caseTypes,'']);};const removeCaseType=index=>{if(caseTypes.length>1){const newCaseTypes=caseTypes.filter((_,i)=>i!==index);setCaseTypes(newCaseTypes);}};const shouldShowAddButton=caseTypes[caseTypes.length-1].trim()!=='';// Prevent body scroll when modal is open\nuseEffect(()=>{if(isOpen){document.body.style.overflow='hidden';}else{document.body.style.overflow='';}return()=>{document.body.style.overflow='';};},[isOpen]);if(!isOpen||!attorney)return null;return/*#__PURE__*/_jsx(\"div\",{className:\"add-to-network-modal-overlay\",onClick:handleOverlayClick,children:/*#__PURE__*/_jsxs(\"div\",{className:\"add-to-network-modal\",ref:modalRef,role:\"dialog\",\"aria-modal\":\"true\",\"aria-labelledby\":\"modal-title\",\"aria-describedby\":\"modal-description\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modal-header\",children:[/*#__PURE__*/_jsx(\"h2\",{id:\"modal-title\",children:isEditMode?'Edit Network Member':'Add to My Network'}),/*#__PURE__*/_jsx(\"button\",{className:\"modal-close-btn\",onClick:onClose,\"aria-label\":\"Close\",children:/*#__PURE__*/_jsx(Icon,{name:\"close\"})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"attorney-details-section\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"attorney-profile\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"attorney-avatar-large\",children:/*#__PURE__*/_jsx(\"img\",{src:\"https://ui-avatars.com/api/?name=\".concat(attorney.initials,\"&background=002e69&color=fff&size=80\"),alt:attorney.name})}),/*#__PURE__*/_jsxs(\"div\",{className:\"attorney-info-main\",children:[/*#__PURE__*/_jsx(\"h3\",{children:attorney.name}),/*#__PURE__*/_jsx(\"p\",{className:\"attorney-firm-text\",children:attorney.firm}),/*#__PURE__*/_jsxs(\"p\",{className:\"attorney-location-text\",children:[/*#__PURE__*/_jsx(Icon,{name:\"location\"}),attorney.location]}),/*#__PURE__*/_jsx(\"div\",{className:\"attorney-specialties-list\",children:attorney.specialties.map((specialty,index)=>/*#__PURE__*/_jsx(\"span\",{className:\"specialty-badge\",children:specialty},index))})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"configuration-section\",id:\"modal-description\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"config-group\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"config-label\",htmlFor:\"fee-range\",children:[/*#__PURE__*/_jsx(Icon,{name:\"percent\"}),\"Referral Fee Percentage\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"fee-slider-container\",children:[/*#__PURE__*/_jsx(\"input\",{id:\"fee-range\",type:\"range\",min:\"10\",max:\"40\",value:feePercentage,onChange:e=>setFeePercentage(parseInt(e.target.value)),className:\"fee-slider\",ref:firstInputRef,\"aria-label\":\"Referral fee percentage: \".concat(feePercentage,\"%\")}),/*#__PURE__*/_jsxs(\"div\",{className:\"fee-display\",children:[/*#__PURE__*/_jsx(\"input\",{id:\"fee-number\",type:\"number\",min:\"10\",max:\"40\",value:feePercentage,onChange:e=>setFeePercentage(parseInt(e.target.value)||25),className:\"fee-input\",\"aria-label\":\"Fee percentage as number\"}),/*#__PURE__*/_jsx(\"span\",{className:\"fee-percent\",children:\"%\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"fee-hints\",children:[/*#__PURE__*/_jsx(\"span\",{className:feePercentage<=20?'active':'',children:\"Low\"}),/*#__PURE__*/_jsx(\"span\",{className:feePercentage>20&&feePercentage<=30?'active':'',children:\"Standard\"}),/*#__PURE__*/_jsx(\"span\",{className:feePercentage>30?'active':'',children:\"High\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"config-group\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"config-label\",children:[/*#__PURE__*/_jsx(Icon,{name:\"briefcase-search\"}),\"Referring Rules\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"referring-rules-section\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"rule-input-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"rule-label\",children:\"Case Types\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"case-types-list\",children:[caseTypes.map((caseType,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"case-type-input-wrapper\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"rule-input\",placeholder:\"e.g., \\\"Traffic accidents with injuries\\\" or \\\"Medical malpractice under 100K\\\"\",value:caseType,onChange:e=>updateCaseType(index,e.target.value),\"aria-label\":\"Case type \".concat(index+1),id:\"case-type-\".concat(index)}),caseTypes.length>1&&/*#__PURE__*/_jsx(\"button\",{className:\"remove-case-type-btn\",onClick:()=>removeCaseType(index),\"aria-label\":\"Remove case type\",children:/*#__PURE__*/_jsx(Icon,{name:\"close\"})})]},index)),shouldShowAddButton&&/*#__PURE__*/_jsxs(\"button\",{className:\"add-case-type-btn\",onClick:addNewCaseType,children:[/*#__PURE__*/_jsx(Icon,{name:\"plus\"}),\"Add New Case Type\"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"rule-input-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"rule-label\",children:\"Locations\"}),/*#__PURE__*/_jsx(LocationMultiselect,{selectedLocations:selectedLocations,onChange:setSelectedLocations,placeholder:\"Select states, cities, or counties...\"})]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal-footer\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"footer-info\",children:[/*#__PURE__*/_jsx(Icon,{name:\"info\"}),/*#__PURE__*/_jsx(\"span\",{children:\"You can modify these settings anytime from your Network Members list\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"footer-buttons\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn-cancel\",onClick:onClose,children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-add-to-network\",onClick:handleAdd,ref:lastFocusableRef,children:isEditMode?'Save Changes':'Add to Network'})]})]})]})});};export default AddToNetworkModal;","map":{"version":3,"names":["React","useState","useEffect","Icon","LocationMultiselect","bodyScrollManager","jsx","_jsx","jsxs","_jsxs","AddToNetworkModal","_ref","isOpen","onClose","attorney","onAdd","isEditMode","initialData","feePercentage","setFeePercentage","caseTypes","setCaseTypes","selectedLocations","setSelectedLocations","modalRef","useRef","firstInputRef","lastFocusableRef","length","locations","previouslyFocused","document","activeElement","setTimeout","current","focus","lock","unlock","handleKeyDown","e","key","_modalRef$current","focusableElements","querySelectorAll","firstElement","lastElement","shiftKey","preventDefault","addEventListener","removeEventListener","handleOverlayClick","target","currentTarget","handleAdd","networkSettings","filter","ct","trim","addedDate","Date","toISOString","updateCaseType","index","value","newCaseTypes","addNewCaseType","removeCaseType","_","i","shouldShowAddButton","body","style","overflow","className","onClick","children","ref","role","id","name","src","concat","initials","alt","firm","location","specialties","map","specialty","htmlFor","type","min","max","onChange","parseInt","caseType","placeholder"],"sources":["/Users/renzoservera/Desktop/referral-network-react/src/components/AddToNetworkModal/AddToNetworkModal.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport Icon from '../Icon';\nimport LocationMultiselect from '../LocationMultiselect';\nimport bodyScrollManager from '../../utils/bodyScrollManager';\nimport './AddToNetworkModal.css';\n\nconst AddToNetworkModal = ({ isOpen, onClose, attorney, onAdd, isEditMode = false, initialData = null }) => {\n  const [feePercentage, setFeePercentage] = useState(25);\n  const [caseTypes, setCaseTypes] = useState(['']);\n  const [selectedLocations, setSelectedLocations] = useState([]);\n  const modalRef = React.useRef(null);\n  const firstInputRef = React.useRef(null);\n  const lastFocusableRef = React.useRef(null);\n\n  // Initialize form when modal opens\n  useEffect(() => {\n    if (isOpen && attorney) {\n      if (isEditMode && initialData) {\n        // Edit mode: prefill with existing data\n        setFeePercentage(initialData.feePercentage || 25);\n        setCaseTypes(initialData.caseTypes && initialData.caseTypes.length > 0 ? initialData.caseTypes : ['']);\n        setSelectedLocations(initialData.locations || []);\n      } else {\n        // Add mode: reset to defaults\n        setFeePercentage(25);\n        setCaseTypes(['']);\n        setSelectedLocations([]);\n      }\n    }\n  }, [isOpen, attorney, isEditMode, initialData]);\n\n  // Focus management\n  useEffect(() => {\n    if (isOpen) {\n      // Store previously focused element\n      const previouslyFocused = document.activeElement;\n      \n      // Focus first input when modal opens\n      setTimeout(() => {\n        if (firstInputRef.current) {\n          firstInputRef.current.focus();\n        }\n      }, 100);\n\n      // Prevent body scroll\n      bodyScrollManager.lock();\n\n      return () => {\n        // Restore body scroll and focus\n        bodyScrollManager.unlock();\n        if (previouslyFocused && previouslyFocused.focus) {\n          previouslyFocused.focus();\n        }\n      };\n    }\n  }, [isOpen]);\n\n  // Keyboard handling\n  useEffect(() => {\n    if (!isOpen) return;\n\n    const handleKeyDown = (e) => {\n      if (e.key === 'Escape') {\n        onClose();\n        return;\n      }\n\n      if (e.key === 'Tab') {\n        const focusableElements = modalRef.current?.querySelectorAll(\n          'button, [href], input, select, textarea, [tabindex]:not([tabindex=\"-1\"])'\n        );\n        \n        if (focusableElements?.length) {\n          const firstElement = focusableElements[0];\n          const lastElement = focusableElements[focusableElements.length - 1];\n\n          if (e.shiftKey && document.activeElement === firstElement) {\n            e.preventDefault();\n            lastElement.focus();\n          } else if (!e.shiftKey && document.activeElement === lastElement) {\n            e.preventDefault();\n            firstElement.focus();\n          }\n        }\n      }\n    };\n\n    document.addEventListener('keydown', handleKeyDown);\n    return () => document.removeEventListener('keydown', handleKeyDown);\n  }, [isOpen, onClose]);\n\n  const handleOverlayClick = (e) => {\n    if (e.target === e.currentTarget) {\n      onClose();\n    }\n  };\n\n\n  const handleAdd = () => {\n    const networkSettings = {\n      attorney: attorney,\n      feePercentage,\n      caseTypes: caseTypes.filter(ct => ct.trim() !== ''),\n      locations: selectedLocations,\n      addedDate: new Date().toISOString()\n    };\n    \n    onAdd(networkSettings);\n    onClose();\n  };\n\n  const updateCaseType = (index, value) => {\n    const newCaseTypes = [...caseTypes];\n    newCaseTypes[index] = value;\n    setCaseTypes(newCaseTypes);\n  };\n\n  const addNewCaseType = () => {\n    setCaseTypes([...caseTypes, '']);\n  };\n\n  const removeCaseType = (index) => {\n    if (caseTypes.length > 1) {\n      const newCaseTypes = caseTypes.filter((_, i) => i !== index);\n      setCaseTypes(newCaseTypes);\n    }\n  };\n\n  const shouldShowAddButton = caseTypes[caseTypes.length - 1].trim() !== '';\n\n  // Prevent body scroll when modal is open\n  useEffect(() => {\n    if (isOpen) {\n      document.body.style.overflow = 'hidden';\n    } else {\n      document.body.style.overflow = '';\n    }\n    \n    return () => {\n      document.body.style.overflow = '';\n    };\n  }, [isOpen]);\n\n  if (!isOpen || !attorney) return null;\n\n  return (\n    <div className=\"add-to-network-modal-overlay\" onClick={handleOverlayClick}>\n      <div \n        className=\"add-to-network-modal\"\n        ref={modalRef}\n        role=\"dialog\"\n        aria-modal=\"true\"\n        aria-labelledby=\"modal-title\"\n        aria-describedby=\"modal-description\"\n      >\n        <div className=\"modal-header\">\n          <h2 id=\"modal-title\">{isEditMode ? 'Edit Network Member' : 'Add to My Network'}</h2>\n          <button className=\"modal-close-btn\" onClick={onClose} aria-label=\"Close\">\n            <Icon name=\"close\" />\n          </button>\n        </div>\n\n        {/* Attorney Details Section */}\n        <div className=\"attorney-details-section\">\n          <div className=\"attorney-profile\">\n            <div className=\"attorney-avatar-large\">\n              <img \n                src={`https://ui-avatars.com/api/?name=${attorney.initials}&background=002e69&color=fff&size=80`}\n                alt={attorney.name}\n              />\n            </div>\n            <div className=\"attorney-info-main\">\n              <h3>{attorney.name}</h3>\n              <p className=\"attorney-firm-text\">{attorney.firm}</p>\n              <p className=\"attorney-location-text\">\n                <Icon name=\"location\" />\n                {attorney.location}\n              </p>\n              <div className=\"attorney-specialties-list\">\n                {attorney.specialties.map((specialty, index) => (\n                  <span key={index} className=\"specialty-badge\">\n                    {specialty}\n                  </span>\n                ))}\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {/* Configuration Section */}\n        <div className=\"configuration-section\" id=\"modal-description\">\n          {/* Fee Percentage */}\n          <div className=\"config-group\">\n            <label className=\"config-label\" htmlFor=\"fee-range\">\n              <Icon name=\"percent\" />\n              Referral Fee Percentage\n            </label>\n            <div className=\"fee-slider-container\">\n              <input\n                id=\"fee-range\"\n                type=\"range\"\n                min=\"10\"\n                max=\"40\"\n                value={feePercentage}\n                onChange={(e) => setFeePercentage(parseInt(e.target.value))}\n                className=\"fee-slider\"\n                ref={firstInputRef}\n                aria-label={`Referral fee percentage: ${feePercentage}%`}\n              />\n              <div className=\"fee-display\">\n                <input\n                  id=\"fee-number\"\n                  type=\"number\"\n                  min=\"10\"\n                  max=\"40\"\n                  value={feePercentage}\n                  onChange={(e) => setFeePercentage(parseInt(e.target.value) || 25)}\n                  className=\"fee-input\"\n                  aria-label=\"Fee percentage as number\"\n                />\n                <span className=\"fee-percent\">%</span>\n              </div>\n            </div>\n            <div className=\"fee-hints\">\n              <span className={feePercentage <= 20 ? 'active' : ''}>Low</span>\n              <span className={feePercentage > 20 && feePercentage <= 30 ? 'active' : ''}>Standard</span>\n              <span className={feePercentage > 30 ? 'active' : ''}>High</span>\n            </div>\n          </div>\n\n          {/* Referring Rules */}\n          <div className=\"config-group\">\n            <label className=\"config-label\">\n              <Icon name=\"briefcase-search\" />\n              Referring Rules\n            </label>\n            <div className=\"referring-rules-section\">\n              <div className=\"rule-input-group\">\n                <label className=\"rule-label\">Case Types</label>\n                <div className=\"case-types-list\">\n                  {caseTypes.map((caseType, index) => (\n                    <div key={index} className=\"case-type-input-wrapper\">\n                      <input\n                        type=\"text\"\n                        className=\"rule-input\"\n                        placeholder='e.g., \"Traffic accidents with injuries\" or \"Medical malpractice under 100K\"'\n                        value={caseType}\n                        onChange={(e) => updateCaseType(index, e.target.value)}\n                        aria-label={`Case type ${index + 1}`}\n                        id={`case-type-${index}`}\n                      />\n                      {caseTypes.length > 1 && (\n                        <button\n                          className=\"remove-case-type-btn\"\n                          onClick={() => removeCaseType(index)}\n                          aria-label=\"Remove case type\"\n                        >\n                          <Icon name=\"close\" />\n                        </button>\n                      )}\n                    </div>\n                  ))}\n                  {shouldShowAddButton && (\n                    <button\n                      className=\"add-case-type-btn\"\n                      onClick={addNewCaseType}\n                    >\n                      <Icon name=\"plus\" />\n                      Add New Case Type\n                    </button>\n                  )}\n                </div>\n              </div>\n              <div className=\"rule-input-group\">\n                <label className=\"rule-label\">Locations</label>\n                <LocationMultiselect\n                  selectedLocations={selectedLocations}\n                  onChange={setSelectedLocations}\n                  placeholder='Select states, cities, or counties...'\n                />\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {/* Footer */}\n        <div className=\"modal-footer\">\n          <div className=\"footer-info\">\n            <Icon name=\"info\" />\n            <span>You can modify these settings anytime from your Network Members list</span>\n          </div>\n          <div className=\"footer-buttons\">\n            <button className=\"btn-cancel\" onClick={onClose}>Cancel</button>\n            <button \n              className=\"btn-add-to-network\" \n              onClick={handleAdd}\n              ref={lastFocusableRef}\n            >\n              {isEditMode ? 'Save Changes' : 'Add to Network'}\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default AddToNetworkModal;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}